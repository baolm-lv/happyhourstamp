<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="initial-scale=1.0, maximum-scale=2.0">
	<title>Metrics</title>
	<link rel="stylesheet" href="/lib/bootstrap/3.3.6/css/bootstrap.min.css">
	<link rel="stylesheet" href="/lib/datatables/1.10.12/css/dataTables.bootstrap.min.css">
	<script src="/lib/jquery/1.12.0/jquery.min.js"></script>
	<script src="/lib/datatables/1.10.12/js/jquery.dataTables.min.js"></script>
	<script src="/lib/datatables/1.10.12/js/dataTables.bootstrap.min.js"></script>
</head>
<body>
	<nav class="navbar navbar-inverse">
		<div class="container">
			<div class="navbar-header">
				<a class="navbar-brand" href="">HHS-Service</a>
			</div>
			<div id="navbar" class="collapse navbar-collapse">
				<ul class="nav navbar-nav">
					<li class=""><a href="services.html">服务管理</a></li>
					<li class=""><a href="eureka.html">Eureka</a></li>
					<li class="active"><a href="metrics.html">Metrics</a></li>
				</ul>
			</div>
		</div>
	</nav>
	<div id="container" class="container"></div>
</body>
<script type="text/javascript">
$(document).ready(function() {
	$.ajax({
		url : "/metrics",
		contentType : "application/json",
		type : "get"
	}).done(function(result){
		createMetricsTable(result);
	}).fail(function(){
		alert("操作失败");
	});
	function createMetricsTable(d) {
		var table = '<table id="metricsTable" class="table table-striped table-bordered">';
		table += '<thead><tr><td>Key</td><td>Value</td></tr></thead>';
		for (var key in d) {
			table += '<tr>'+
						'<td>' + key + '</td>'+
						'<td>' + d[key] + '</td>'+
					 '</tr>';
		}
		table += '</table>';
		$("#container").html(table);
		
		$("#metricsTable").DataTable();
	}
});
</script>
</html>